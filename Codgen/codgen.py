import re
from playwright.sync_api import Playwright, sync_playwright, expect
import pytest
from playwright.sync_api import Page, expect, sync_playwright


def run(playwright: Playwright) -> None:
    browser = playwright.chromium.launch(headless=False)
    context = browser.new_context()
    page = context.new_page()
    page.goto("https://staging.connectable.site/login")
    page.get_by_role("textbox", name="E-mail").click()
    page.get_by_role("textbox", name="E-mail").fill("w.project.portal3@gmail.com")
    page.get_by_test_id("login-password").click()
    page.get_by_test_id("login-password").fill("111")
    page.get_by_text("Log in").click()
    page.get_by_role("textbox", name="Find").click()
    page.get_by_role("textbox", name="Find").fill("testconn")
    page.get_by_role("table").locator("div").filter(has_text="testconn27 testconn27").first.click()
    page.get_by_role("row", name="testconn27 testconn27").locator("a").click()
    page.get_by_text("–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å").click()
    page.get_by_role("dialog", name="Clone client").get_by_role("textbox").first.click()
    page.get_by_role("dialog", name="Clone client").get_by_role("textbox").first.fill("atc27")
    page.get_by_role("dialog", name="Clone client").get_by_role("textbox").nth(1).click()
    page.get_by_role("dialog", name="Clone client").get_by_role("textbox").nth(1).fill("atc27")
    page.get_by_label("Clone client").get_by_text("Save").click()
    page.get_by_text("OK").first.click()
    page.get_by_label("icon: check-circle").locator("svg").click()
    page.get_by_text("users: 91").click()
    page.get_by_text("tags:").click()
    page.get_by_text("groups:").click()
    page.get_by_text("moods:").click()
    page.get_by_text("vacations:").click()
    page.get_by_text("link_blocks:").click()
    page.get_by_text("mailings:").click()
    page.get_by_text("structs:").click()
    page.get_by_text("dept_users:").click()
    page.get_by_text("shop_items:").click()
    page.get_by_text("shops:").click()
    page.get_by_text("achieves:").click()
    page.get_by_text("templates:").click()
    page.get_by_text("events:").click()
    page.get_by_text("polls:").click()
    page.get_by_text("articles:").click()
    page.get_by_text("vacantions:").click()
    page.get_by_text("sgs:").click()
    page.get_by_text("bps:").click()
    page.get_by_text("step_tasks:").click()
    page.get_by_text("adapt_steps:").click()
    page.get_by_text("adapt_tracks:").click()
    page.get_by_text("adapts:").click()
    page.get_by_text("rooms:").click()
    page.get_by_text("chats:").click()
    page.get_by_text("task_comments:").click()
    page.get_by_text("tasks: 23").click()
    page.get_by_text("desks:").click()
    page.get_by_text("post_comments:").click()
    page.get_by_text("posts:").click()
    page.get_by_role("button", name="OK").click()
    page.get_by_role("button", name="Close").click()
    page.get_by_text("–ê–¥–º–∏–Ω –ê–¥–º–∏–Ω–æ–≤–∏—á").click()
    page.get_by_text("Logout").click()
    page.get_by_role("textbox", name="Workspace").click()
    page.get_by_role("textbox", name="Workspace").fill("atc27")
    page.get_by_role("textbox", name="E-mail").click()
    page.get_by_role("textbox", name="E-mail").fill("t2@gmail.com")
    page.get_by_test_id("login-password").click()
    page.get_by_test_id("login-password").fill("111111")
    page.get_by_text("Log in").click()
    page.get_by_text("–°—Ç–µ–Ω–∞").click()
    page.locator(".post-wrapper").first.click()
    page.get_by_role("img", name="img").click()
    page.locator("#page div").filter(has_text="img 1 /").nth(1).click()
    page.get_by_role("button", name="Close (Esc)").click()
    page.get_by_text("–ú—ã –≤ –°–ú–ò –û –Ω–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –Ω–∞–ø–∏—Å–∞–ª–∏ –≤ –∏–∑–¥–∞–Ω–∏–∏ –æ–± –∏–Ω—Ç—Ä–∞–Ω–µ—Ç–µ, –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–º –¢–í –∏ –¥").click()
    page.get_by_text("–ü—Ä–∏–≤–µ—Ç, –∫–æ–º–∞–Ω–¥–∞!–ö–∞–∫ –≤—ã –∑–Ω–∞–µ—Ç–µ, –º—ã —Å—Ç–∞—Ä–∞–µ–º—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ, –¥–æ").click()
    page.get_by_text("–î—Ä—É–∑—å—è, –ø—Ä–∏–≤–µ—Ç! –õ–µ—Ç–æ –≤ —Å–∞–º–æ–º —Ä–∞–∑–≥–∞—Ä–µ –∏ –º—ã –ø–æ–Ω—è–ª–∏, —á—Ç–æ —Å–µ–π—á–∞—Å —Å–∞–º–æ–µ –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–Ω–∏").click()
    page.get_by_text("–õ–µ–Ω—Ç–∞ —Å–æ–±—ã—Ç–∏–π").click()
    page.get_by_text("@–ù–∞—Ç–∞–ª—å—è –†—É—Å–∞–∫–æ–≤–∞, –° –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è!").click()
    page.get_by_text("@–ù–∞—Ç–∞–ª—å—è –†—É—Å–∞–∫–æ–≤–∞ –°–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ –∑–∞ –æ–∫–∞–∑–∞–Ω–Ω—É—é –ø–æ–º–æ—â—å –≤ –ø—Ä–æ–µ–∫—Ç–µ!)").click()
    page.get_by_text("@–ö—Å–µ–Ω–∏—è –ü–µ—Ç—Ä–æ–≤–∞ , –∫–∞–∫ –¥–µ–ª–∞?").click()
    page.get_by_text("@–ù–∏–∫–∏—Ç–∞ –î–æ–±—Ä—ã–Ω–∏–Ω –∑–∞ –ø–æ–º–æ—â—å —Å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–µ–π –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π").click()
    page.get_by_text("–°—Ç—Ä—É–∫—Ç—É—Ä–∞").click()
    page.get_by_role("img").filter(has_text="–ì–ª–∞–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–µ—Ä–≥–µ–π –ù–∞—É–º–æ–≤ –£–ø—Ä–∞–≤–ª—è—é—â–∏–π –ø–∞—Ä—Ç–Ω–µ—Ä –ù–∞—Ç–∞–ª—å—è –†—É—Å–∞–∫–æ–≤–∞ –†—É–∫–æ–≤–æ–¥–∏—Ç–µ").click()
    page.get_by_text("–ê–¥—Ä–µ—Å–Ω–∞—è –∫–Ω–∏–≥–∞").click()
    page.get_by_role("table").locator("div").filter(has_text="–ü–æ–ø–æ–≤–∞ –ì–∞–ª–∏–Ω–∞ g.malkova@").first.click()
    page.get_by_text("–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è").click()
    page.get_by_text("–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è –∏—é–Ω—å 27").click()
    page.get_by_role("main").locator("svg").click()
    page.get_by_text("–ì—Ä–∞—Ñ–∏–∫ –æ—Ç–ø—É—Å–∫–æ–≤").click()
    page.get_by_text("–ì—Ä—É–ø–ø—ã").click()
    page.get_by_text("–í–Ω—É—Ç—Ä–∏ HR").click()
    page.locator("div").filter(has_text="–ì—Ä—É–ø–ø—ã").nth(3).click()
    page.get_by_text("–ì—Ä—É–ø–ø—ã").click()
    page.get_by_text("–ö–ª—É–± –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ 45 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –û—Ç–∫—Ä—ã—Ç–∞—è –≥—Ä—É–ø–ø–∞ 39+").click()
    page.get_by_text("–ö–ª—É–± –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤").click()
    page.get_by_text("–¢–µ—Å—Ç").click()
    page.get_by_text("–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π").click()
    page.get_by_text("–∏–¥–µ–π –æ–Ω–ª–∞–π–Ω-—Ç–∏–º–±–∏–ª–¥–∏–Ω–≥–∞ –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π –Ω–∞ —É–¥–∞–ª—ë–Ω–∫–µ").click()
    page.locator("div:nth-child(3) > .body > span > div > div:nth-child(2) > .back-img").first.click()
    page.get_by_text("–õ–µ—Ç–æ ‚Äî —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—è –ø–æ—Ä–∞ —Ç–∏–º–±–∏–ª–¥–∏–Ω–≥–æ–≤ –∏ –≤—ã–µ–∑–¥–Ω—ã—Ö –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–æ–≤. –ù–æ —Ç–æ–ª—å–∫–æ –Ω–µ –ª–µ—Ç–æ").click()
    page.get_by_text("–ú–Ω–æ–≥–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –æ—Å—Ç–∞–≤–∏–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑ –¥–æ–º–∞ –∏ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–∞–º–æ–∏–∑–æ–ª").click()
    page.get_by_role("paragraph").filter(has_text="–ú—ã —Å–æ–±—Ä–∞–ª–∏ –≤ —ç—Ç–æ–º –æ–±–∑–æ—Ä–µ 12").click()
    page.get_by_text("–ó–∞—è–≤–∫–∏").click()
    page.get_by_text("üìù–°–ø—Ä–∞–≤–∫–∏").click()
    page.get_by_text("üñáÔ∏è–ê–•–û").click()
    page.get_by_text("üßÆ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–ª—É–∂–±—ã").click()
    page.get_by_text("üìÉ –û—Ç–¥–µ–ª –∫–∞–¥—Ä–æ–≤").click()
    page.get_by_text("üë®‚Äçüé® –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ –¥–∏–∑–∞–π–Ω").click()
    page.get_by_text("ü§ó –ó–∞–±–æ—Ç–∞ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö").click()
    page.get_by_role("link", name="–°–ø—Ä–∞–≤–∫–∞ –æ –ø–µ—Ä–∏–æ–¥–µ —Ä–∞–±–æ—Ç—ã").click()
    page.get_by_text("–î–æ–±—Ä—ã–π –¥–µ–Ω—å!–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â—É—é –ø–µ—Ä–∏–æ–¥ —Ä–∞–±").click()
    page.get_by_role("tab", name="–®–∞–≥–∏").click()
    page.get_by_text("–î–ª—è –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤").click()
    page.get_by_text("–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–¥–µ—é").click()
    page.get_by_text("–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è").click()
    page.get_by_text("–¢–µ—Ä–º–æ—Å").click()
    page.get_by_text("–ö—Ä—É–∂–∫–∞").click()
    page.get_by_text("–ù–∞–∫–ª–µ–π–∫–∞").click()
    page.get_by_text("–ß–µ—Ö–æ–ª").click()
    page.get_by_text("–ö–µ–ø–∫–∞").click()
    page.get_by_text("12").first.click()
    page.locator("div:nth-child(4) > div > .col > .flex-between > .f-align-center > .svg-icon > circle").click()
    page.get_by_text("–î–æ—Å–∫–∞ –∑–∞–¥–∞—á").click()
    page.get_by_text("–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –ú–∞—Ä–∏–Ω–∞ –ë–∏–ª—å–¥—è–∫–æ–≤–∞").click()
    page.get_by_text("–û—Ü–µ–Ω–∫–∞ –∑–∞–¥–∞—á 1 –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –≤–µ–±–∏–Ω–∞—Ä 5 –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É").click()
    page.get_by_text("–í —Ä–∞–±–æ—Ç–µ 4 –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π 9 –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –≤–µ–±–∏–Ω–∞—Ä 3").click()
    page.get_by_text("–ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ 1 –ü–æ–∏—Å–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –ø–æ \"–ë—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏—é\" 1 0/4 –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É").click()
    page.get_by_text("–ê–¥–∞–ø—Ç–∞—Ü–∏—è").click()
    page.get_by_text("–¢—É—Ç –≤–µ—Å—å –ø—É—Ç—å –∞–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞—Ö –ø—Ä–æ–¥–∞–∂,").click()
    page.get_by_text("–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ").click()
    page.get_by_role("tab", name="–í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (91)").click()
    page.get_by_text("–ê–¥–º–∏–Ω –ê–¥–º–∏–Ω–æ–≤—Å–∫–∏–π").click()
    page.get_by_text("–í—ã–π—Ç–∏").click()
    page.get_by_role("textbox", name="–ö–æ–¥ –∫–æ–º–ø–∞–Ω–∏–∏").click()
    page.get_by_role("textbox", name="–ö–æ–¥ –∫–æ–º–ø–∞–Ω–∏–∏").fill("")
    page.get_by_role("textbox", name="E-mail").click()
    page.get_by_role("textbox", name="E-mail").fill("w.project.portal3@gmail.com")
    page.get_by_test_id("login-password").click()
    page.get_by_test_id("login-password").fill("111")
    page.get_by_text("–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É").click()
    page.get_by_role("textbox", name="Find").click()
    page.get_by_role("textbox", name="Find").fill("at")
    page.get_by_role("table").locator("div").filter(has_text="atc27 atc27").first.click()
    page.get_by_role("row", name="atc27 atc27").locator("a").click()
    page.get_by_text("–£–¥–∞–ª–∏—Ç—å").click()
    page.get_by_role("checkbox", name="I confirm to wipe all data of").check()
    page.get_by_label("Full remove client").get_by_text("Save").click()
    page.get_by_text("–û–ö").click()
    page.get_by_role("button", name="OK").click()
    page.get_by_text("–ê–¥–º–∏–Ω –ê–¥–º–∏–Ω–æ–≤–∏—á").click()
    page.get_by_text("Logout").click()

    # ---------------------
    context.close()
    browser.close()


with sync_playwright() as playwright:
    run(playwright)
